<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Swaras</title>
    <link rel="stylesheet" href="members.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
        
</head>
<body>
      <!-- Top Bar -->
<div class="top-bar">
    <div class="next-event">
        <span>Next event:</span> Run Event: Old Moses Run: Nanyuki, Saturday, June 28, 2025
    </div>
    <div class="contact-social">
        <div class="phone">
            <i class="fas fa-phone"></i> +254740894117
        </div>
        <div class="social-icons">
            <a href="https://www.strava.com/clubs/244473" title="Strava" class="strava-icon">
                <i class="fab fa-strava"></i>
            </a>
            <a href="https://connect.garmin.com/modern/group/18200" title="Garmin" class="garmin-icon">
                <i class="fas fa-running"></i>
            </a>
            <a href="https://www.instagram.com/urbanswarasrunningclub/" title="Instagram" class="instagram-icon">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/urbanswaras" title="Facebook" class="facebook-icon">
                <i class="fab fa-facebook-f"></i>
            </a>
        </div>
        <a href="calendar.html#redirect" class="register-btn">
             <span class="btn-text-full">Click here to register</span>
              <span class="btn-text-short">Register</span>
        </a>
    </div>
</div>
    
  <!-- Main Header -->
<header class="main-header">
    <div class="header-container">
        <div class="logo-section">
            <img src="images/newest logo.jpg" alt="Urban Swaras Logo" class="logo">
        </div>
        
        <nav class="desktop-nav">
            <ul class="nav-links">
                <li class="nav-item active">
                    <a href="index.html" class="nav-link">
                        <span>Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="calendar.html" class="nav-link">
                        <span>Events</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="stories.html" class="nav-link">
                        <span>Our Stories</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="members.html" class="nav-link">
                        <span>Membership</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="regulation.html" class="nav-link">
                        <span>Governance</span>
                    </a>
                </li>
                <li class="nav-item">
                  <a href="https://www.urbanswaras.co.ke/" class="nav-link" target="_blank" rel="noopener noreferrer">
                    <span>Duka La Swara</span>
                  </a>
                </li> 
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">
                        <span>Contact</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="data.html" class="nav-link">
                        <span>Downloads</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="header-actions"> 
            <button class="hamburger" id="hamburger">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </div>
    
    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileOverlay"></div>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <h3>Menu</h3>
            <button class="close-menu" id="closeMenu">
                <span>&times;</span>
            </button>
        </div>
        
        <nav class="mobile-nav">
            <ul class="mobile-links">
                <li class="mobile-item active">
                    <a href="index.html" class="mobile-link">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                </li>
                <li class="mobile-item">
                    <a href="calendar.html" class="mobile-link">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Events</span>
                    </a>
                </li>
                <li class="mobile-item">
                  <a href="stories.html" class="mobile-link">
                     <i class="fas fa-book-open"></i>
                     <span>Our Stories</span>
                  </a>
                </li>
                <li class="mobile-item">
                    <a href="members.html" class="mobile-link">
                        <i class="fas fa-users"></i>
                        <span>Membership</span>
                    </a>
                </li>
                <li class="mobile-item">
                    <a href="regulation.html" class="mobile-link">
                        <i class="fas fa-gavel"></i>
                        <span>Governance</span>
                    </a>
                </li> 
                <li class="mobile-item">
                    <a href="https://www.urbanswaras.co.ke/" class="mobile-link" target="_blank" rel="noopener noreferrer">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Duka La Swara</span>
                    </a>
                </li>
                <li class="mobile-item">
                    <a href="contact.html" class="mobile-link">
                        <i class="fas fa-envelope"></i>
                        <span>Contact</span>
                    </a>
                </li>
                <li class="mobile-item">
                    <a href="data.html" class="mobile-link">
                        <i class="fas fa-download"></i>
                        <span>Downloads</span>
                    </a>
                </li> 
            </ul>
            
            <!-- <div class="mobile-cta">  
                <button class="mobile-cta-button">
                    <i class="fas fa-user-plus"></i>
                    <span>Become a Member</span>
                </button>
            </div>-->
        </nav>
    </div>
</header>
    
     <!-- Hero Banner -->
    <section class="hero-banner">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">Become Part of Urban Swaras</h1>
           <p class="hero-subtitle" style="font-weight: bold; font-style: italic;">A community where Running is Living</p>
            <div class="pulse-effect"></div>
        </div>
        <div class="running-icons">
            <i class="fas fa-running runner-1"></i>
            <i class="fas fa-running runner-2"></i>
            <i class="fas fa-running runner-3"></i>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <!-- Welcome Section -->
        <section class="welcome-section">
            <div class="content-card">
                <h2>Join Our Running Family</h2>
                <p>Anyone can join Urban Swaras Running Club! We're mixed ability, from absolute beginners to junior elites. We have members who are still finding their feet on a 10km run around town, to those who are placing top ten in international marathons.</p>
                <p>To join, come along to one of our runs and see if you like it. For information about upcoming runs, see our <a href="https://lu.ma/user/Urbanswaras" target="_blank" class="link-highlight">calendar</a>, or contact us.</p>
            </div>
        </section>

        <style>
        :root {
            --primary: #1F3C5F;
            --secondary: #6BA2D9;
            --accent: #F57C51;
            --text: #333333;
            --light-bg: #F5F5F5;
            --white: #FFFFFF;
            --neon-yellow: #FFFF00;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light-bg);
        }

        .modal-title {
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--light-bg);
            color: var(--primary);
        }
 
        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--accent), #e67e22);
            color: var(--white);
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 124, 81, 0.4);
        }

        .submit-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .success-message {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: var(--white);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            display: none;
        }

        .success-message.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .success-message h3 {
            margin: 0 0 1rem 0;
            font-size: 1.3rem;
        }

        .success-message p {
            margin: 0.5rem 0;
            opacity: 0.9;
        }

        .redirect-info {
            background: var(--neon-yellow);
            color: var(--text);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            text-align: center;
        }

        .countdown {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            margin: 0.5rem 0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .modal-title {
                font-size: 1.3rem;
            }
        }
    </style>


    <!-- Your existing membership section HTML goes here -->
    <!-- Membership Types -->
    <section class="membership-types">
        <h2 class="section-title">Types of Membership</h2>
        
        <div class="membership-grid">
            <!-- Quarterly Membership -->
            <div class="membership-card quarterly-card">
                <div class="card-header">
                    <i class="fas fa-calendar-alt"></i>
                    <h3>Quarterly Membership</h3>
                </div>
                <div class="price-display">
                    <span class="price">Ksh 2,800</span>
                    <span class="price-breakdown">Ksh 1,800 quarterly + Ksh 1,000 annual renewal</span>
                </div>
                <div class="membership-details">
                    <ul>
                        <li>Quarterly subscriptions of Ksh 1,800</li>
                        <li>Annual renewal fee of Ksh 1,000</li>
                        <li>Calendar year quarters (Jan-Apr, May-Jun, July-Sept, Oct-Dec)</li>
                        <li>One-off annual renewal fee regardless of join month</li>
                    </ul>
                </div>
                <button class="join-btn quarterly-btn" onclick="showRegistrationForm('quarterly')">
                    <i class="fas fa-play"></i> Join Quarterly
                </button>
            </div>

            <!-- Annual Membership -->
            <div class="membership-card annual-card featured">
                <div class="featured-badge">Most Popular</div>
                <div class="card-header">
                    <i class="fas fa-crown"></i>
                    <h3>Annual Membership</h3>
                </div>
                <div class="price-display">
                    <span class="price">Ksh 8,200</span>
                    <span class="price-breakdown">Ksh 7,200 subscription + Ksh 1,000 renewal</span>
                </div>
                <div class="membership-details">
                    <ul>
                        <li>Annual subscription of Ksh 7,200</li>
                        <li>Annual renewal fee of Ksh 1,000</li>
                        <li>Pro-rated if joining mid-year</li>
                        <li>Best value for committed runners</li>
                    </ul>
                </div>
                <button class="join-btn annual-btn" onclick="showRegistrationForm('annual')">
                    <i class="fas fa-star"></i> Join Annual
                </button>
            </div>

            <!-- Guest Option -->
            <div class="membership-card guest-card">
                <div class="card-header">
                    <i class="fas fa-user-friends"></i>
                    <h3>Guest Runner</h3>
                </div>
                <div class="price-display">
                    <span class="price">Ksh 600</span>
                    <span class="price-breakdown">Per event, pay in advance</span>
                </div>
                <div class="membership-details">
                    <ul>
                        <li>Pay Ksh 600 per event</li>
                        <li>Same support as members during runs</li>
                        <li>Water and fruits provided</li>
                        <li>Limited voting rights</li>
                    </ul>
                </div>
                <button class="join-btn guest-btn" onclick="showRegistrationForm('guest')">
                    <i class="fas fa-ticket-alt"></i> Run as Guest
                </button>
            </div>
        </div>
    </section>

    <!-- Registration Modal -->
    <div class="modal-overlay" id="registrationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Join Urban Swaras</h2>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="membership-info" id="membershipInfo">
                <h3 id="membershipType">Quarterly Membership</h3>
                <p id="membershipPrice">Ksh 2,800</p>
            </div>

            <form id="registrationForm">
                <div class="form-group">
                    <label class="form-label" for="fullName">
                        <i class="fas fa-user"></i> Full Name *
                    </label>
                    <input 
                        type="text" 
                        id="fullName" 
                        name="fullName" 
                        class="form-input" 
                        required 
                        placeholder="Enter your full name"
                    >
                    <div class="error-message">Please enter your full name</div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="email">
                        <i class="fas fa-envelope"></i> Email Address *
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        class="form-input" 
                        required 
                        placeholder="Enter your email address"
                    >
                    <div class="error-message">Please enter a valid email address</div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="phone">
                        <i class="fas fa-phone"></i> Phone Number *
                    </label>
                    <input 
                        type="tel" 
                        id="phone" 
                        name="phone" 
                        class="form-input" 
                        required 
                        placeholder="Enter your phone number"
                    >
                    <div class="error-message">Please enter your phone number</div>
                </div>

                <!-- Emergency Contact Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-users"></i> Emergency Contacts
    </h4>
    
    <!-- Next of Kin 1 -->
    <div class="emergency-contact-group">
        <h5 class="contact-header">Next of Kin 1:</h5>
        <div class="form-row">
            <div class="form-group">
                <label class="form-label" for="nextOfKin1Name">
                    <i class="fas fa-user"></i> Name
                </label>
                <input
                    type="text"
                    id="nextOfKin1Name"
                    name="nextOfKin1Name"
                    class="form-input"
                    placeholder="Enter name"
                >
            </div>
            <div class="form-group">
                <label class="form-label" for="nextOfKin1Relationship">
                    <i class="fas fa-heart"></i> Relationship
                </label>
                <input
                    type="text"
                    id="nextOfKin1Relationship"
                    name="nextOfKin1Relationship"
                    class="form-input"
                    placeholder="e.g., Spouse, Parent, Sibling"
                >
            </div>
        </div>
        <div class="form-group">
            <label class="form-label" for="nextOfKin1Phone">
                <i class="fas fa-phone"></i> Cell Phone No.
            </label>
            <input
                type="tel"
                id="nextOfKin1Phone"
                name="nextOfKin1Phone"
                class="form-input"
                placeholder="Enter phone number"
            >
        </div>
    </div>

    <!-- Next of Kin 2 -->
    <div class="emergency-contact-group">
        <h5 class="contact-header">Next of Kin 2:</h5>
        <div class="form-row">
            <div class="form-group">
                <label class="form-label" for="nextOfKin2Name">
                    <i class="fas fa-user"></i> Name
                </label>
                <input
                    type="text"
                    id="nextOfKin2Name"
                    name="nextOfKin2Name"
                    class="form-input"
                    placeholder="Enter name"
                >
            </div>
            <div class="form-group">
                <label class="form-label" for="nextOfKin2Relationship">
                    <i class="fas fa-heart"></i> Relationship
                </label>
                <input
                    type="text"
                    id="nextOfKin2Relationship"
                    name="nextOfKin2Relationship"
                    class="form-input"
                    placeholder="e.g., Spouse, Parent, Sibling"
                >
            </div>
        </div>
        <div class="form-group">
            <label class="form-label" for="nextOfKin2Phone">
                <i class="fas fa-phone"></i> Cell Phone No.
            </label>
            <input
                type="tel"
                id="nextOfKin2Phone"
                name="nextOfKin2Phone"
                class="form-input"
                placeholder="Enter phone number"
            >
        </div>
    </div>

    <!-- Blood Group -->
    <div class="form-group">
        <label class="form-label" for="bloodGroup">
            <i class="fas fa-tint"></i> Blood Group
        </label>
        <select id="bloodGroup" name="bloodGroup" class="form-input form-select">
            <option value="">Select your blood group</option>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
            <option value="Unknown">Unknown</option>
        </select>
    </div>
</div>

<!-- How did you find us Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-search"></i> How did you find out about Urban Swaras?
    </h4>
    <div class="checkbox-group">
        <label class="checkbox-label">
            <input type="checkbox" name="discoveryMethod" value="google-search" class="checkbox-input">
            <span class="checkbox-custom"></span>
            Google Search
        </label>
        <label class="checkbox-label">
            <input type="checkbox" name="discoveryMethod" value="swara-website" class="checkbox-input">
            <span class="checkbox-custom"></span>
            Swara Website
        </label>
        <label class="checkbox-label">
            <input type="checkbox" name="discoveryMethod" value="facebook" class="checkbox-input">
            <span class="checkbox-custom"></span>
            Facebook
        </label>
        <label class="checkbox-label">
            <input type="checkbox" name="discoveryMethod" value="instagram" class="checkbox-input">
            <span class="checkbox-custom"></span>
            Instagram
        </label>
        <label class="checkbox-label">
            <input type="checkbox" name="discoveryMethod" value="friend-referral" class="checkbox-input">
            <span class="checkbox-custom"></span>
            A friend referred me
        </label>
        <label class="checkbox-label">
            <input type="checkbox" name="discoveryMethod" value="other" class="checkbox-input" id="otherDiscovery">
            <span class="checkbox-custom"></span>
            Other
        </label>
    </div>
    <div class="form-group other-input-group" id="otherDiscoveryGroup" style="display: none;">
        <input
            type="text"
            id="otherDiscoveryText"
            name="otherDiscoveryText"
            class="form-input"
            placeholder="Please specify..."
        >
    </div>
</div>

<!-- Terms and Conditions Section -->
<div class="form-section terms-section">
    <div class="terms-content">
        <div class="checkbox-group">
            <label class="checkbox-label terms-checkbox">
                <input type="checkbox" id="agreeTerms" name="agreeTerms" class="checkbox-input" required>
                <span class="checkbox-custom"></span>
                <span class="terms-text">
                    I do hereby confirm that I have read and understood the 
                    <a href="data.html" id="clubRulesLink" class="terms-link">Club Rules and Regulations</a> 
                    together with the 
                    <a href="regulation.html" id="clubConstitutionLink" class="terms-link">Club's Constitution</a> 
                    and agree to be bound and abide by the same. I further confirm that I voluntarily participate in all club runs and shall not hold liable or bring any claim against the Club for any harm or injury on my person and I shall indemnify and hold harmless Urban Swara Running Club, its officials, members and any employees from and against all allegations, claims, actions, suits, demands, damages, liabilities, obligations, losses, settlements, judgments, costs and expenses (including without limitation attorneys' fees and costs) from myself, personal successors and or representatives and assigns arising out of my aforesaid participation.
                </span>
            </label>
        </div>
    </div>
</div>

                <input type="hidden" id="membershipTypeInput" name="membershipType">

                <button type="submit" class="submit-btn" id="submitBtn">
                    <span class="loading-spinner" id="loadingSpinner"></span>
                    <i class="fas fa-arrow-right" id="submitIcon"></i>
                    <span id="submitText">Complete Registration</span>
                </button>
            </form>

            <div class="success-message" id="successMessage">
                <h3><i class="fas fa-check-circle"></i> Registration Successful!</h3>
                <p>Thank you for joining Urban Swaras! Your registration has been submitted successfully.</p>
                <p><strong>An Urban Swaras official will be in touch with you after reviewing your details.</strong></p>
                <div class="redirect-info">
                    <p><strong>Redirecting to payment in <span class="countdown" id="countdown">5</span> seconds...</strong></p>
                    <p>You'll be redirected to complete your payment securely.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Registration system configuration
        const MEMBERSHIP_CONFIG = {
            quarterly: {
                title: 'Quarterly Membership',
                price: 'Ksh 2,800',
                paymentUrl: 'https://www.urbanswaras.co.ke/products/fb8f95cce3/2971724000000824014'
            },
            annual: {
                title: 'Annual Membership',
                price: 'Ksh 8,200',
                paymentUrl: 'https://www.urbanswaras.co.ke/products/a0e3dea7e8/2971724000000824023'
            },
            guest: {
                title: 'Guest Runner',
                price: 'Ksh 600',
                paymentUrl: 'https://www.urbanswaras.co.ke/products/g6f30bf80d/2971724000000824032'
            }
        };

        let currentMembershipType = '';

        // Show registration form
        function showRegistrationForm(membershipType) {
            currentMembershipType = membershipType;
            const config = MEMBERSHIP_CONFIG[membershipType];
            
            // Update modal content
            document.getElementById('modalTitle').textContent = `Join Urban Swaras - ${config.title}`;
            document.getElementById('membershipType').textContent = config.title;
            document.getElementById('membershipPrice').textContent = config.price;
            document.getElementById('membershipTypeInput').value = membershipType;
            
            // Reset form
            document.getElementById('registrationForm').reset();
            document.getElementById('registrationForm').style.display = 'block';
            document.getElementById('successMessage').classList.remove('show');
            clearFormErrors();
            
            // Show modal
            document.getElementById('registrationModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close modal
        function closeModal() {
            document.getElementById('registrationModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Reset form state
            setTimeout(() => {
                document.getElementById('registrationForm').reset();
                document.getElementById('registrationForm').style.display = 'block';
                document.getElementById('successMessage').classList.remove('show');
                clearFormErrors();
                resetSubmitButton();
            }, 300);
        }

        // Close modal when clicking outside
        document.getElementById('registrationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Form validation
        function validateForm() {
            const fullName = document.getElementById('fullName');
            const email = document.getElementById('email');
            const phone = document.getElementById('phone');
            let isValid = true;

            // Clear previous errors
            clearFormErrors();

            // Validate full name
            if (!fullName.value.trim()) {
                showFieldError(fullName, 'Please enter your full name');
                isValid = false;
            }

            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email.value.trim()) {
                showFieldError(email, 'Please enter your email address');
                isValid = false;
            } else if (!emailRegex.test(email.value.trim())) {
                showFieldError(email, 'Please enter a valid email address');
                isValid = false;
            }

            // Validate phone
            const phoneRegex = /^[\+]?[\d\s\-\(\)]{10,}$/;
            if (!phone.value.trim()) {
                showFieldError(phone, 'Please enter your phone number');
                isValid = false;
            } else if (!phoneRegex.test(phone.value.trim())) {
                showFieldError(phone, 'Please enter a valid phone number');
                isValid = false;
            }

            return isValid;
        }

                                                                   // Handle "Other" discovery method checkbox
document.addEventListener('DOMContentLoaded', function() {
    const otherCheckbox = document.getElementById('otherDiscovery');
    const otherGroup = document.getElementById('otherDiscoveryGroup');
    const otherInput = document.getElementById('otherDiscoveryText');

    if (otherCheckbox) {
        otherCheckbox.addEventListener('change', function() {
            if (this.checked) {
                otherGroup.style.display = 'block';
                otherInput.focus();
            } else {
                otherGroup.style.display = 'none';
                otherInput.value = '';
            }
        });
    }

    // Handle club rules and constitution links
    const clubRulesLink = document.getElementById('clubRulesLink');
    const clubConstitutionLink = document.getElementById('clubConstitutionLink');

    if (clubRulesLink) {
        clubRulesLink.addEventListener('click', function(e) {
            e.preventDefault();
            // Replace with actual URL to club rules
            window.open('data.html', '_blank');
        });
    }

    if (clubConstitutionLink) {
        clubConstitutionLink.addEventListener('click', function(e) {
            e.preventDefault();
            // Replace with actual URL to club constitution
            window.open('regulation.html', '_blank');
        });
    }
});

// Enhanced form validation function (add to existing validateForm function)
function validateEnhancedForm() {
    let isValid = true;
    
    // Clear previous errors for new fields
    clearEnhancedFormErrors();
    
    // Validate terms agreement
    const agreeTerms = document.getElementById('agreeTerms');
    if (!agreeTerms.checked) {
        showFieldError(agreeTerms, 'You must agree to the terms and conditions');
        isValid = false;
    }
    
    // Validate at least one discovery method is selected
    const discoveryMethods = document.querySelectorAll('input[name="discoveryMethod"]');
    const isAnyDiscoverySelected = Array.from(discoveryMethods).some(method => method.checked);
    
    if (!isAnyDiscoverySelected) {
        const discoverySection = document.querySelector('.checkbox-group');
        showSectionError(discoverySection, 'Please select how you found out about Urban Swaras');
        isValid = false;
    }
    
    // If "Other" is selected, validate the text input
    const otherDiscovery = document.getElementById('otherDiscovery');
    const otherDiscoveryText = document.getElementById('otherDiscoveryText');
    
    if (otherDiscovery && otherDiscovery.checked && !otherDiscoveryText.value.trim()) {
        showFieldError(otherDiscoveryText, 'Please specify how you found out about us');
        isValid = false;
    }
    
    return isValid;
}

// Clear enhanced form errors
function clearEnhancedFormErrors() {
    // Remove error styling from checkboxes
    const checkboxLabels = document.querySelectorAll('.checkbox-label');
    checkboxLabels.forEach(label => {
        label.classList.remove('error');
    });
    
    // Remove section error messages
    const sectionErrors = document.querySelectorAll('.section-error-message');
    sectionErrors.forEach(error => error.remove());
}

// Show section error for checkbox groups
function showSectionError(section, message) {
    section.classList.add('error');
    
    // Create error message element
    const errorElement = document.createElement('div');
    errorElement.className = 'section-error-message';
    errorElement.textContent = message;
    errorElement.style.color = 'var(--accent)';
    errorElement.style.fontSize = '0.9rem';
    errorElement.style.marginTop = '0.5rem';
    errorElement.style.fontWeight = '600';
    
    section.parentNode.appendChild(errorElement);
}

// Update the main validateForm function to include enhanced validation
const originalValidateForm = validateForm;
validateForm = function() {
    const basicValidation = originalValidateForm();
    const enhancedValidation = validateEnhancedForm();
    return basicValidation && enhancedValidation;
};

// Enhanced form submission data collection
const originalFormSubmission = document.getElementById('registrationForm').onsubmit;

// Update form data collection in the existing form submission handler
// Add this code to the existing form submission section where FormData is prepared

// Add this code right after the existing formData.append lines in the form submission handler:
/*
// Emergency contacts
formData.append('nextOfKin1Name', document.getElementById('nextOfKin1Name').value.trim());
formData.append('nextOfKin1Relationship', document.getElementById('nextOfKin1Relationship').value.trim());
formData.append('nextOfKin1Phone', document.getElementById('nextOfKin1Phone').value.trim());
formData.append('nextOfKin2Name', document.getElementById('nextOfKin2Name').value.trim());
formData.append('nextOfKin2Relationship', document.getElementById('nextOfKin2Relationship').value.trim());
formData.append('nextOfKin2Phone', document.getElementById('nextOfKin2Phone').value.trim());

// Blood group
formData.append('bloodGroup', document.getElementById('bloodGroup').value);

// Discovery methods
const selectedDiscoveryMethods = Array.from(document.querySelectorAll('input[name="discoveryMethod"]:checked'))
    .map(checkbox => checkbox.value);
formData.append('discoveryMethods', selectedDiscoveryMethods.join(', '));
formData.append('otherDiscoveryText', document.getElementById('otherDiscoveryText').value.trim());

// Terms agreement
formData.append('agreeTerms', document.getElementById('agreeTerms').checked);
*/

// Enhanced UX interactions
document.addEventListener('DOMContentLoaded', function() {
    // Add smooth scroll behavior when validation errors occur
    const formInputs = document.querySelectorAll('.form-input, .checkbox-input');
    
    formInputs.forEach(input => {
        input.addEventListener('invalid', function() {
            // Smooth scroll to first error
            setTimeout(() => {
                const firstError = document.querySelector('.error, .section-error-message');
                if (firstError) {
                    firstError.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }
            }, 100);
        });
    });
    
    // Add visual feedback for form sections as user scrolls
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.transform = 'translateY(0)';
                entry.target.style.opacity = '1';
            }
        });
    }, { threshold: 0.1 });
    
    const formSections = document.querySelectorAll('.form-section');
    formSections.forEach(section => {
        observer.observe(section);
    });
});

// Add CSS for section error styling
const style = document.createElement('style');
style.textContent = `
    .checkbox-group.error .checkbox-label {
        border-color: var(--accent) !important;
        background: rgba(245, 124, 81, 0.1) !important;
    }
    
    .section-error-message {
        animation: shake 0.5s ease-in-out;
    }
    
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }
`;
document.head.appendChild(style);

        // Show field error
        function showFieldError(field, message) {
            field.classList.add('error');
            const errorElement = field.nextElementSibling;
            if (errorElement && errorElement.classList.contains('error-message')) {
                errorElement.textContent = message;
            }
        }

        // Clear form errors
        function clearFormErrors() {
            const errorInputs = document.querySelectorAll('.form-input.error');
            errorInputs.forEach(input => {
                input.classList.remove('error');
            });
        }

        // Handle form submission
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }

            // Show loading state
            const submitBtn = document.getElementById('submitBtn');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const submitIcon = document.getElementById('submitIcon');
            const submitText = document.getElementById('submitText');

            submitBtn.disabled = true;
            loadingSpinner.style.display = 'block';
            submitIcon.style.display = 'none';
            submitText.textContent = 'Submitting...';

            try {
                // Prepare form data
                const formData = new FormData();
                formData.append('fullName', document.getElementById('fullName').value.trim());
                formData.append('email', document.getElementById('email').value.trim());
                formData.append('phone', document.getElementById('phone').value.trim());
                formData.append('membershipType', currentMembershipType);
                formData.append('membershipTitle', MEMBERSHIP_CONFIG[currentMembershipType].title);
                formData.append('price', MEMBERSHIP_CONFIG[currentMembershipType].price);

                // Submit to Formspree
                const response = await fetch('https://formspree.io/f/mkgbvjey', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    // Hide form and show success message
                    document.getElementById('registrationForm').style.display = 'none';
                    document.getElementById('successMessage').classList.add('show');
                    
                    // Start countdown and redirect
                    startCountdownAndRedirect();
                } else {
                    throw new Error('Submission failed');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error submitting your registration. Please try again.');
                resetSubmitButton();
            }
        });

        // Reset submit button
        function resetSubmitButton() {
            const submitBtn = document.getElementById('submitBtn');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const submitIcon = document.getElementById('submitIcon');
            const submitText = document.getElementById('submitText');

            submitBtn.disabled = false;
            loadingSpinner.style.display = 'none';
            submitIcon.style.display = 'inline';
            submitText.textContent = 'Complete Registration';
        }

        // Countdown and redirect
        function startCountdownAndRedirect() {
            const countdownElement = document.getElementById('countdown');
            let seconds = 5;

            const countdownInterval = setInterval(() => {
                seconds--;
                countdownElement.textContent = seconds;

                if (seconds <= 0) {
                    clearInterval(countdownInterval);
                    // Redirect to payment URL
                    window.location.href = MEMBERSHIP_CONFIG[currentMembershipType].paymentUrl;
                }
            }, 1000);
        }

        // Remove input errors on typing
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('input', function() {
                if (this.classList.contains('error')) {
                    this.classList.remove('error');
                }
            });
        });

        // Escape key to close modal
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('registrationModal').classList.contains('active')) {
                closeModal();
            }
        });
    </script>

       <!--   Payment Modal  
        <div id="paymentModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h3 id="modalTitle">Payment Information</h3>
                <div id="modalBody">
                    Payment details will be inserted here  
                </div>
            </div>
        </div> -->

        <!-- Member Reviews -->
        <section class="reviews-section">
            <h2 class="section-title">Reviews from Our Members</h2>
            
            <div class="reviews-container">
                <div class="review-card">
                    <div class="quote-icon">"</div>
                    <p class="review-text">I joined Urban Swaras earlier this year, just hoping to spice up my running journey. Instead, I found a family that nudged me to be better. Members guided me into structured coaching, better running habits, and deeper discipline.</p>
                    <div class="reviewer">
                        <div class="reviewer-avatar">P</div>
                        <span class="reviewer-name">~ Pascal</span>
                    </div>
                </div>

                <div class="review-card">
                    <div class="quote-icon">"</div>
                    <p class="review-text">When I joined the club, even 21km felt like a struggle. I never thought I could go beyond a half marathon â€” until a fellow Swara told me I was underrating myself. Seeing others push past limits, I had a wake-up call. Since then, I've run over twenty full marathons and a few ultras. This club has made running my lifestyle.</p>
                    <div class="reviewer">
                        <div class="reviewer-avatar">D</div>
                        <span class="reviewer-name">~ Davis</span>
                    </div>
                </div>
            </div>
        </section>

        

        <!-- Opt Out Section -->
        <section class="opt-out-section">
            <h2 class="section-title">Opting out as a member</h2>
            <div class="content-card warning-card">
                <h3><i class="fas fa-sign-out-alt"></i> Opt Out As A Member</h3>
                <p>Opting out as a member <strong>MUST</strong> be in writing to the club secretary. It's important to note that failure to attend runs (due to injury, travel, or other reasons) does not constitute suspension of membership.</p>
                <div class="contact-info">
                    <p>To opt out, email: <a href="mailto:info@urbanswaras.co.ke?subject=Membership Opt Out Request&body=Please include:%0A- Full Names:%0A- Phone Number:%0A- Email Address:%0A- Reason for opting out:" class="email-link">info@urbanswaras.co.ke</a></p>
                    <small>Include: Full Names, Phone Number, Email Address</small>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer CTA -->
    <section class="cta-section">
        <div class="cta-content">
            <h2>Ready to Start Your Journey?</h2>
            <p>Join hundreds of runners who've made Urban Swaras their running home</p>
            <button class="cta-btn" onclick="scrollToMembership()">
                <i class="fas fa-rocket"></i> Choose Your Membership
            </button>
        </div>
    </section>
 
    
<footer class="site-footer">
    <div class="footer-container">
        <!-- Column 1: About -->
        <div class="footer-column">
            <h3 class="footer-heading">Urban Swaras</h3>
            <p class="footer-about">Nairobi's premier running community since 2006. Promoting recreational running and building friendships through shared miles.</p>
        
        </div>

        <!-- Column 2: Quick Links -->
        <div class="footer-column">
            <h3 class="footer-heading">Quick Links</h3>
            <ul class="footer-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="calendar.html">Events</a></li>
                <li><a href="stories.html">Our Stories</a></li> 
                <li><a href="regulation.html">Governance</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="https://www.urbanswaras.co.ke/">Duka La Swara</a></li>
            </ul>
        </div>

        <!-- Column 3: Contact -->
<div class="footer-column">
    
    <h3 class="footer-heading">Contact Us</h3>
    <ul class="footer-contact">
        <li><i class="fas fa-phone-alt"></i> +254740894117</li>
        <li><i class="fas fa-envelope"></i> info@urbanswaras.co.ke</li>
    </ul>
    <div class="footer-social">
        <a href="https://www.facebook.com/urbanswaras" aria-label="Facebook" class="facebook-icon">
            <i class="fab fa-facebook-f"></i>
        </a><div class="contact-social">
            <a href="https://www.instagram.com/urbanswarasrunningclub/" title="Instagram" class="instagram-icon">
                <i class="fab fa-instagram"></i>
            </a></div>
        <a href="https://www.strava.com/clubs/244473" aria-label="Strava" class="strava-icon">
            <i class="fab fa-strava"></i>
        </a>
        <a href="https://connect.garmin.com/modern/group/18200" aria-label="Garmin" class="garmin-icon">
            <i class="fas fa-running"></i>
        </a>
    </div>
</div>

        <!-- Column 4: Newsletter -->
       <div class="footer-column">
         <h3 class="footer-heading">Stay Updated</h3>
         <form class="newsletter-form" action="https://formspree.io/f/mkgbvjey" method="POST">
             <input type="email" name="email" placeholder="Your email address" required>
              <button type="submit">Subscribe</button>
         </form>
              <p class="footer-notes">Get notified about upcoming runs and events.</p>
      </div>
    </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2024 Urban Swaras Running Club. All rights reserved.</p>
        <div class="legal-links">
            <a href="data.html">Privacy Policy</a>
            <a href="regulation.html">Terms of Use</a>
        </div>
    </div>
</footer>

 <script src="members.js"></script>
<style>
        /* Brand Colors */
        :root {
            --primary: #1F3C5F;
            --secondary: #6BA2D9;
            --accent: #F57C51;
            --text: #333333;
            --light-bg: #F5F5F5;
            --white: #FFFFFF;
            --whatsapp: #25D366;
        }

        /* WhatsApp Floating Button */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, var(--whatsapp), #20b954);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.4);
            z-index: 999;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            color: var(--white);
            animation: pulse-whatsapp 2s ease-in-out infinite;
        }

        .whatsapp-float:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(37, 211, 102, 0.6);
            background: linear-gradient(135deg, #20b954, var(--whatsapp));
        }

        .whatsapp-float i {
            font-size: 1.8rem;
            transition: transform 0.3s ease;
        }

        .whatsapp-float:hover i {
            transform: scale(1.1);
        }

        @keyframes pulse-whatsapp {
            0%, 100% {
                box-shadow: 0 8px 30px rgba(37, 211, 102, 0.4);
            }
            50% {
                box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6), 0 0 0 10px rgba(37, 211, 102, 0.1);
            }
        }

        /* WhatsApp Tooltip */
        .whatsapp-tooltip {
            position: absolute;
            right: 75px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            color: var(--white);
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(31, 60, 95, 0.3);
        }

        .whatsapp-tooltip::after {
            content: '';
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            border: 8px solid transparent;
            border-left-color: var(--primary);
        }

        .whatsapp-float:hover .whatsapp-tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateY(-50%) translateX(-10px);
        }

        /* WhatsApp Header Integration */
        .whatsapp-header-btn {
            background: linear-gradient(135deg, var(--whatsapp), #20b954);
            color: var(--white);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-header-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
            background: linear-gradient(135deg, #20b954, var(--whatsapp));
        }

        .whatsapp-header-btn i {
            font-size: 1.1rem;
        }

        /* WhatsApp Section Integration */
        .whatsapp-section {
            background: linear-gradient(135deg, var(--light-bg), var(--white));
            padding: 60px 0;
            text-align: center;
        }

        .whatsapp-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .whatsapp-section h3 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .whatsapp-section p {
            font-size: 1.1rem;
            color: var(--text);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .whatsapp-cta {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            background: linear-gradient(135deg, var(--whatsapp), #20b954);
            color: var(--white);
            padding: 18px 35px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.4);
            position: relative;
            overflow: hidden;
        }

        .whatsapp-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .whatsapp-cta:hover::before {
            left: 100%;
        }

        .whatsapp-cta:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(37, 211, 102, 0.6);
            background: linear-gradient(135deg, #20b954, var(--whatsapp));
        }

        .whatsapp-cta i {
            font-size: 1.5rem;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-8px);
            }
            60% {
                transform: translateY(-4px);
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
            }

            .whatsapp-float i {
                font-size: 1.6rem;
            }

            .whatsapp-tooltip {
                display: none;
            }

            .whatsapp-header-btn span {
                display: none;
            }

            .whatsapp-header-btn {
                padding: 10px 12px;
                border-radius: 50%;
                width: 44px;
                height: 44px;
                justify-content: center;
            }

            .whatsapp-section h3 {
                font-size: 1.6rem;
            }

            .whatsapp-section p {
                font-size: 1rem;
            }

            .whatsapp-cta {
                padding: 15px 25px;
                font-size: 1rem;
            }
        }

        /* Demo body styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: var(--light-bg);
            height: 200vh; /* For demo scrolling */
        }

        .demo-content {
            padding: 100px 20px;
            text-align: center;
            color: var(--primary);
        }
    </style>
</head>
<body> 

    <!-- Option 3: Floating WhatsApp Button (Always Visible) -->
    <a href="https://wa.me/254740894117?text=Hi%20Urban%20Swaras!%20I'm%20interested%20in%20learning%20more%20about%20the%20running%20club." 
       class="whatsapp-float" 
       target="_blank" 
       rel="noopener noreferrer"
       aria-label="Contact us on WhatsApp">
        <div class="whatsapp-tooltip">Chat with us!</div>
        <i class="fab fa-whatsapp"></i>
    </a>

    <script>
        // WhatsApp Analytics Tracking (Optional)
        document.querySelectorAll('a[href*="wa.me"]').forEach(link => {
            link.addEventListener('click', function() {
                // Track WhatsApp clicks
                console.log('WhatsApp contact initiated');
                
                // You can add Google Analytics or other tracking here
                // gtag('event', 'whatsapp_contact', {
                //     'event_category': 'contact',
                //     'event_label': 'whatsapp_click'
                // });
            });
        });

        // Show/hide floating button based on scroll (Optional)
        let lastScrollTop = 0;
        const whatsappFloat = document.querySelector('.whatsapp-float');

        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > 300) {
                whatsappFloat.style.opacity = '1';
                whatsappFloat.style.visibility = 'visible';
            } else {
                whatsappFloat.style.opacity = '0.7';
            }
        });
    </script>

</body>
</html>